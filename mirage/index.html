<script src="pixi.min.js"></script>
<title>Mirage</title>

<style>
* {
    padding: 0; 
    margin: 0;
}
</style>

<script id="shader" type="shader">

const int size = 200;
const float scale = 2.0;
const float scale2 = 1200.0;
const float scale3 = 4.7;
const float scale4 = 0.0;
vec3 coords[size*size];

precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;
uniform float time;
uniform vec2 resolution;

bool zero(vec3 i){
    return i.x < 0.001;
}

void main(void){
   vec2 uv = vTextureCoord.xy;

   for(int x = 0; x < size; x++){
		for(int y = 0; y < size; y++){

			vec3 p = coords[x + y*size];


            p.r += 0.01;
            p.g += 0.01;
            p.b += 0.01;

            

            /*
			if(p.x == 0.0 && p.y == 0.0 && p.z == 0.0){
				int randx = int((cos(float(y) * scale2 + 0.0 * scale3 + scale4)) * scale);
				int randy = int((cos(float(x) * scale2 + 0.0 * scale3 + scale4)) * scale);

				    if(pixmap.getPixel(x + randx, y + randy) == 0 && !(x + randx >= pixmap.getWidth())
						&& !(x + randx < 0) && !(y + randy >= pixmap.getHeight()) && !(y + randy < 0)){
					pixmap.drawPixel(x, y, 0);
					pixmap.drawPixel(x + randx, y + randy, pix);
			}
            */
		}
	}
    

    vec4 fg = texture2D(uSampler, vTextureCoord);

    gl_FragColor = fg;
}

</script>

<body>
    <script src="script.js"></script>
</body>